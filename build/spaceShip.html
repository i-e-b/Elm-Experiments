<!DOCTYPE HTML>

<html>
    <head>
        <meta charset="UTF-8">
        <title>
            spaceShip
        </title>
        <script type="text/javascript" src="/elm-runtime.js">
            
        </script>
        <script type="text/javascript">
            
Elm.Main = function(elm){
  var N = Elm.Native, _N = N.Utils(elm), _L = N.List(elm), _E = N.Error(elm), _J = N.JavaScript(elm), _str = _J.toString, $moduleName = 'Main';
  var Text = Elm.Text(elm);
  var Text = Elm.Text(elm);
  var Basics = Elm.Basics(elm);
  var Signal = Elm.Signal(elm);
  var List = Elm.List(elm);
  var Maybe = Elm.Maybe(elm);
  var Time = Elm.Time(elm);
  var Prelude = Elm.Prelude(elm);
  var Graphics = Graphics || {};
  Graphics.Element = Elm.Graphics.Element(elm);
  var Color = Elm.Color(elm);
  var Graphics = Graphics || {};
  Graphics.Collage = Elm.Graphics.Collage(elm);
  var Keyboard = Elm.Keyboard(elm);
  var Automaton = Elm.Automaton(elm);
  var _op = {};
  var toVec = function(r){
    return {
      _:{
      },
      x:Basics.toFloat(r.x),
      y:Basics.toFloat(r.y)};};
  var shipFrame = function(s){
    return s;};
  var pin = F3(function(lo, hi, v){
    return (((_N.cmp(v,lo)>-1)&&(_N.cmp(v,hi)<1)) ? v : (Basics.otherwise ? ((_N.cmp(v,lo)<0) ? (hi-(lo-v)) : (Basics.otherwise ? (lo+(v-hi)) : _E.If($moduleName,'on line 30, column 53 to 106'))) : _E.If($moduleName,'on line 30, column 15 to 106')));});
  var shipInput = F2(function(accel, s){
    return _N.replace([['angle',A3(pin, 0, 1, (s.angle+(accel.x/100)))],['thrust',accel.y]], s);});
  var mag = function(v){
    return Basics.sqrt(((v.x*v.x)+(v.y*v.y)));};
  var normalise = function(v){
    return function(){
      var m = mag(v);
      return (_N.eq(m,0.0) ? v : (Basics.otherwise ? {
        _:{
        },
        x:(v.x/m),
        y:(v.y/m)} : _E.If($moduleName,'on line 18, column 9 to 61')));}();};
  var periodArrowKeyVec = A2(Signal._op['<~'], function($){
    return normalise(toVec($));}, A2(Signal.sampleOn, Time.fps(20), Keyboard.arrows));
  var limit = F2(function(n, v){
    return function(){
      var m = (mag(v)/n);
      return ((_N.cmp(m,1.0)<1) ? v : (Basics.otherwise ? {
        _:{
        },
        x:(v.x/m),
        y:(v.y/m)} : _E.If($moduleName,'on line 24, column 9 to 53')));}();});
  var defaultShip = {
    _:{
    },
    angle:0,
    pos:{
    _:{
    },
    x:0,
    y:0},
    thrust:0,
    vel:{
    _:{
    },
    x:0,
    y:0}};
  var ship = A2(Automaton.state, defaultShip, shipInput);
  var main = A2(Signal._op['<~'], Text.asText, A3(Automaton.run, ship, defaultShip, periodArrowKeyVec));
  var Vec = F2(function(a, b){
    return {
      _:{
      },
      x:a,
      y:b};});
  var Ship = F4(function(a, b, c, d){
    return {
      _:{
      },
      angle:c,
      pos:a,
      thrust:d,
      vel:b};});
  return elm.Main = {
    _op : _op, 
    defaultShip : defaultShip, 
    mag : mag, 
    normalise : normalise, 
    limit : limit, 
    toVec : toVec, 
    pin : pin, 
    shipFrame : shipFrame, 
    shipInput : shipInput, 
    ship : ship, 
    periodArrowKeyVec : periodArrowKeyVec, 
    main : main};};
        </script>
    </head>
    <body>
        <script type="text/javascript">
            Elm.fullscreen(Elm.Main)
        </script>
        <noscript>
            
        </noscript>
    </body>
</html>
